{"version":3,"sources":["libs/contextLib.js","libs/errorLib.js","containers/Home.js","containers/NotFound.js","components/LoaderButton.js","libs/hooksLib.js","containers/Login.js","containers/Signup.js","config.js","libs/awsLib.js","containers/NewNote.js","containers/Notes.js","components/BillingForm.js","containers/Settings.js","components/AuthenticatedRoute.js","components/UnauthenticatedRoute.js","Routes.js","App.js","reportWebVitals.js","index.js"],"names":["AppContext","createContext","useAppContext","useContext","onError","error","message","toString","Error","alert","Home","useState","notes","setNotes","isAuthenticated","isLoading","setIsLoading","loadNotes","API","get","renderNotesList","to","ListGroup","Item","action","className","size","map","noteId","content","createdAt","trim","split","Date","toLocaleString","useEffect","a","onLoad","NotFound","LoaderButton","disabled","props","Button","children","useFormFields","initialState","fields","setValues","event","target","id","value","Login","userHasAuthenticated","email","password","handleFieldChange","preventDefault","Auth","signIn","Form","onSubmit","Group","controlId","Label","Control","autoFocus","type","onChange","block","length","Signup","confirmPassword","confirmationCode","history","useHistory","newUser","setNewUser","handleSubmit","signUp","username","handleConfirmationSubmit","confirmSignUp","push","variant","Text","muted","config","STRIPE_KEY","MAX_ATTACHMENT_SIZE","s3","REGION","BUCKET","apiGateway","URL","cognito","USER_POOL_ID","APP_CLIENT_ID","IDENTITY_POOL_ID","s3Upload","file","filename","now","name","Storage","vault","put","contentType","stored","key","NewNote","useRef","setContent","current","attachment","createNote","note","post","body","as","e","files","Notes","str","isDeleting","setIsDeleting","useParams","setNote","window","confirm","loadNote","attachmentURL","rel","href","replace","onClick","injectStripe","storage","isProcessing","setIsProcessing","isCardComplete","setIsCardComplete","stripe","createToken","token","min","placeholder","complete","style","base","fontSize","color","fontFamily","Settings","setStripe","billUser","details","source","Stripe","fonts","cssSrc","AuthenticatedRoute","rest","useLocation","pathname","search","UnauthenticatedRoute","redirect","url","location","results","RegExp","exec","decodeURIComponent","querystring","Routes","exact","path","App","isAuthenticating","setIsAuthenticating","currentSession","signOut","Navbar","collapseOnSelect","bg","expand","Brand","Toggle","Collapse","Nav","activeKey","Link","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Amplify","configure","mandatorySignIn","region","userPoolId","identityPoolId","userPoolWebClientId","bucket","endpoints","endpoint","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ef0727cb.chunk.js","sourcesContent":["import { useContext, createContext } from \"react\";\n\nexport const AppContext = createContext(null);\n\nexport function useAppContext() {\n  return useContext(AppContext);\n}","export function onError(error) {\n  let message = error.toString();\n\n  // Auth errors\n  if (!(error instanceof Error) && error.message) {\n    message = error.message;\n  }\n\n  alert(message);\n}","import React, { useState, useEffect } from \"react\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport { onError } from \"../libs/errorLib\";\nimport \"./Home.css\";\nimport { API } from \"aws-amplify\";\nimport { BsPencilSquare } from \"react-icons/bs\";\nimport { LinkContainer } from \"react-router-bootstrap\";\n\nexport default function Home() {\n  const [notes, setNotes] = useState([]);\n  const { isAuthenticated } = useAppContext();\n  const [isLoading, setIsLoading] = useState(true);\n\n\n\n  useEffect(() => {\n  async function onLoad() {\n    if (!isAuthenticated) {\n      return;\n    }\n\n    try {\n      const notes = await loadNotes();\n      setNotes(notes);\n    } catch (e) {\n      onError(e);\n    }\n\n    setIsLoading(false);\n  }\n\n  onLoad();\n}, [isAuthenticated]);\n\n  function loadNotes() {\n    return API.get(\"notes\", \"/notes\");\n  }\n\n\n\n  function renderNotesList(notes) {\n  return (\n    <>\n      <LinkContainer to=\"/notes/new\">\n        <ListGroup.Item action className=\"py-3 text-nowrap text-truncate\">\n          <BsPencilSquare size={17} />\n          <span className=\"ml-2 font-weight-bold\">Create a new note</span>\n        </ListGroup.Item>\n      </LinkContainer>\n      {notes.map(({ noteId, content, createdAt }) => (\n        <LinkContainer key={noteId} to={`/notes/${noteId}`}>\n          <ListGroup.Item action>\n            <span className=\"font-weight-bold\">\n              {content.trim().split(\"\\n\")[0]}\n            </span>\n            <br />\n            <span className=\"text-muted\">\n              Created: {new Date(createdAt).toLocaleString()}\n            </span>\n          </ListGroup.Item>\n        </LinkContainer>\n      ))}\n    </>\n  );\n}\n\n  function renderLander() {\n    return (\n      <div className=\"lander\">\n        <h1>Scratch</h1>\n        <p className=\"text-muted\">A simple note taking app</p>\n      </div>\n    );\n  }\n\n  function renderNotes() {\n    return (\n      <div className=\"notes\">\n        <h2 className=\"pb-3 mt-4 mb-3 border-bottom\">Your Notes</h2>\n        <ListGroup>{!isLoading && renderNotesList(notes)}</ListGroup>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"Home\">\n      {isAuthenticated ? renderNotes() : renderLander()}\n    </div>\n  );\n}","import React from \"react\";\nimport \"./NotFound.css\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"NotFound text-center\">\n      <h3>Sorry, page not found!</h3>\n    </div>\n  );\n}","import React from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport { BsArrowRepeat } from \"react-icons/bs\";\nimport \"./LoaderButton.css\";\n\nexport default function LoaderButton({\n  isLoading,\n  className = \"\",\n  disabled = false,\n  ...props\n}) {\n  return (\n    <Button\n      disabled={disabled || isLoading}\n      className={`LoaderButton ${className}`}\n      {...props}\n    >\n      {isLoading && <BsArrowRepeat className=\"spinning\" />}\n      {props.children}\n    </Button>\n  );\n}","import { useState } from \"react\";\n\nexport function useFormFields(initialState) {\n  const [fields, setValues] = useState(initialState);\n\n  return [\n    fields,\n    function(event) {\n      setValues({\n        ...fields,\n        [event.target.id]: event.target.value\n      });\n    }\n  ];\n}","import React, { useState } from \"react\";\nimport { Auth } from \"aws-amplify\";\nimport Form from \"react-bootstrap/Form\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport { useFormFields } from \"../libs/hooksLib\";\nimport { onError } from \"../libs/errorLib\";\nimport \"./Login.css\";\n\nexport default function Login() {\n  const { userHasAuthenticated } = useAppContext();\n  const [isLoading, setIsLoading] = useState(false);\n  const [fields, handleFieldChange] = useFormFields({\n    email: \"\",\n    password: \"\"\n  });\n\n  function validateForm() {\n    return fields.email.length > 0 && fields.password.length > 0;\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    setIsLoading(true);\n\n    try {\n      await Auth.signIn(fields.email, fields.password);\n      userHasAuthenticated(true);\n    } catch (e) {\n      onError(e);\n      setIsLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"Login\">\n      <Form onSubmit={handleSubmit}>\n        <Form.Group size=\"lg\" controlId=\"email\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"email\"\n            value={fields.email}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <Form.Group size=\"lg\" controlId=\"password\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={fields.password}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <LoaderButton\n          block\n          size=\"lg\"\n          type=\"submit\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Login\n        </LoaderButton>\n      </Form>\n    </div>\n  );\n}","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { useHistory } from \"react-router-dom\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { useAppContext } from \"../libs/contextLib\";\nimport { useFormFields } from \"../libs/hooksLib\";\nimport { onError } from \"../libs/errorLib\";\nimport \"./Signup.css\";\nimport { Auth } from \"aws-amplify\";\n\nexport default function Signup() {\n  const [fields, handleFieldChange] = useFormFields({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    confirmationCode: \"\",\n  });\n  const history = useHistory();\n  const [newUser, setNewUser] = useState(null);\n  const { userHasAuthenticated } = useAppContext();\n  const [isLoading, setIsLoading] = useState(false);\n\n  function validateForm() {\n    return (\n      fields.email.length > 0 &&\n      fields.password.length > 0 &&\n      fields.password === fields.confirmPassword\n    );\n  }\n\n  function validateConfirmationForm() {\n    return fields.confirmationCode.length > 0;\n  }\n\n async function handleSubmit(event) {\n  event.preventDefault();\n\n  setIsLoading(true);\n\n  try {\n    const newUser = await Auth.signUp({\n      username: fields.email,\n      password: fields.password,\n    });\n    setIsLoading(false);\n    setNewUser(newUser);\n  } catch (e) {\n    onError(e);\n    setIsLoading(false);\n  }\n}\n\nasync function handleConfirmationSubmit(event) {\n  event.preventDefault();\n\n  setIsLoading(true);\n\n  try {\n    await Auth.confirmSignUp(fields.email, fields.confirmationCode);\n    await Auth.signIn(fields.email, fields.password);\n\n    userHasAuthenticated(true);\n    history.push(\"/\");\n  } catch (e) {\n    onError(e);\n    setIsLoading(false);\n  }\n}\n\n  function renderConfirmationForm() {\n    return (\n      <Form onSubmit={handleConfirmationSubmit}>\n        <Form.Group controlId=\"confirmationCode\" size=\"lg\">\n          <Form.Label>Confirmation Code</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"tel\"\n            onChange={handleFieldChange}\n            value={fields.confirmationCode}\n          />\n          <Form.Text muted>Please check your email for the code.</Form.Text>\n        </Form.Group>\n        <LoaderButton\n          block\n          size=\"lg\"\n          type=\"submit\"\n          variant=\"success\"\n          isLoading={isLoading}\n          disabled={!validateConfirmationForm()}\n        >\n          Verify\n        </LoaderButton>\n      </Form>\n    );\n  }\n\n  function renderForm() {\n    return (\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"email\" size=\"lg\">\n          <Form.Label>Email</Form.Label>\n          <Form.Control\n            autoFocus\n            type=\"email\"\n            value={fields.email}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"password\" size=\"lg\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            value={fields.password}\n            onChange={handleFieldChange}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"confirmPassword\" size=\"lg\">\n          <Form.Label>Confirm Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            onChange={handleFieldChange}\n            value={fields.confirmPassword}\n          />\n        </Form.Group>\n        <LoaderButton\n          block\n          size=\"lg\"\n          type=\"submit\"\n          variant=\"success\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Signup\n        </LoaderButton>\n      </Form>\n    );\n  }\n\n  return (\n    <div className=\"Signup\">\n      {newUser === null ? renderForm() : renderConfirmationForm()}\n    </div>\n  );\n}","const config = {\n  STRIPE_KEY: \"pk_test_51ITygdIZzTDUsK1IMtMnn5dJdpwdwolx8ewEtcAufIGrSynpMmEN93NRYDTAa1nTzjsQKe8xycN8fWA9nqh7vuJv003HuRFvMH\",\n  MAX_ATTACHMENT_SIZE: 5000000,\n  s3: {\n    REGION: \"us-east-1\",\n    BUCKET: \"notes-api-prod-serverlessdeploymentbucket-rgtpf5xxpkb8\",\n  },\n  apiGateway: {\n    REGION: \"us-east-1\",\n    URL: \"https://ce9q4bqv23.execute-api.us-east-1.amazonaws.com/prod\",\n  },\n  cognito: {\n    REGION: \"us-east-1\",\n    USER_POOL_ID: \"us-east-1_v27SVSeju\",\n    APP_CLIENT_ID: \"3kaoblbntn0u75veodekdhh7cu\",\n    IDENTITY_POOL_ID: \"us-east-1:191eba37-5bf2-4359-a1ae-b093350a3aa3\",\n  },\n};\n\nexport default config;","import { Storage } from \"aws-amplify\";\n\nexport async function s3Upload(file) {\n  const filename = `${Date.now()}-${file.name}`;\n\n  const stored = await Storage.vault.put(filename, file, {\n    contentType: file.type,\n  });\n\n  return stored.key;\n}","import React, { useRef, useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { useHistory } from \"react-router-dom\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport { onError } from \"../libs/errorLib\";\nimport config from \"../config\";\nimport \"./NewNote.css\";\nimport { API } from \"aws-amplify\";\nimport { s3Upload } from \"../libs/awsLib\";\n\n\nexport default function NewNote() {\n  const file = useRef(null);\n  const history = useHistory();\n  const [content, setContent] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  function validateForm() {\n    return content.length > 0;\n  }\n\n  function handleFileChange(event) {\n    file.current = event.target.files[0];\n  }\n\n  async function handleSubmit(event) {\n  event.preventDefault();\n\n  if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n    alert(\n      `Please pick a file smaller than ${\n        config.MAX_ATTACHMENT_SIZE / 1000000\n      } MB.`\n    );\n    return;\n  }\n\n  setIsLoading(true);\n\n  try {\n    const attachment = file.current ? await s3Upload(file.current) : null;\n\n    await createNote({ content, attachment });\n    history.push(\"/\");\n  } catch (e) {\n    onError(e);\n    setIsLoading(false);\n  }\n}\n\n\nfunction createNote(note) {\n  return API.post(\"notes\", \"/notes\", {\n    body: note\n  });\n}\n\n  return (\n    <div className=\"NewNote\">\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"content\">\n          <Form.Control\n            value={content}\n            as=\"textarea\"\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"file\">\n          <Form.Label>Attachment</Form.Label>\n          <Form.Control onChange={handleFileChange} type=\"file\" />\n        </Form.Group>\n        <LoaderButton\n          block\n          type=\"submit\"\n          size=\"lg\"\n          variant=\"primary\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Create\n        </LoaderButton>\n      </Form>\n    </div>\n  );\n}","import React, { useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport Form from \"react-bootstrap/Form\";\nimport LoaderButton from \"../components/LoaderButton\";\nimport config from \"../config\";\nimport \"./Notes.css\";\n\nexport default function Notes() {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDeleting, setIsDeleting] = useState(false);\n  const file = useRef(null);\n  const { id } = useParams();\n  const history = useHistory();\n  const [note, setNote] = useState(null);\n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    function loadNote() {\n      return API.get(\"notes\", `/notes/${id}`);\n    }\n\n    async function onLoad() {\n      try {\n        const note = await loadNote();\n        const { content, attachment } = note;\n\n        if (attachment) {\n          note.attachmentURL = await Storage.vault.get(attachment);\n        }\n\n        setContent(content);\n        setNote(note);\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    onLoad();\n  }, [id]);\n\nfunction validateForm() {\n  return content.length > 0;\n}\n\nfunction formatFilename(str) {\n  return str.replace(/^\\w+-/, \"\");\n}\n\nfunction handleFileChange(event) {\n  file.current = event.target.files[0];\n}\n\nasync function handleSubmit(event) {\n  let attachment;\n\n  event.preventDefault();\n\n  if (file.current && file.current.size > config.MAX_ATTACHMENT_SIZE) {\n    alert(\n      `Please pick a file smaller than ${config.MAX_ATTACHMENT_SIZE /\n        1000000} MB.`\n    );\n    return;\n  }\n\n  setIsLoading(true);\n}\n\nasync function handleDelete(event) {\n  event.preventDefault();\n\n  const confirmed = window.confirm(\n    \"Are you sure you want to delete this note?\"\n  );\n\n  if (!confirmed) {\n    return;\n  }\n\n  setIsDeleting(true);\n}\n\nreturn (\n  <div className=\"Notes\">\n    {note && (\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"content\">\n          <Form.Control\n            as=\"textarea\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n        </Form.Group>\n        <Form.Group controlId=\"file\">\n          <Form.Label>Attachment</Form.Label>\n          {note.attachment && (\n            <p>\n              <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={note.attachmentURL}\n              >\n                {formatFilename(note.attachment)}\n              </a>\n            </p>\n          )}\n          <Form.Control onChange={handleFileChange} type=\"file\" />\n        </Form.Group>\n        <LoaderButton\n          block\n          size=\"lg\"\n          type=\"submit\"\n          isLoading={isLoading}\n          disabled={!validateForm()}\n        >\n          Save\n        </LoaderButton>\n        <LoaderButton\n          block\n          size=\"lg\"\n          variant=\"danger\"\n          onClick={handleDelete}\n          isLoading={isDeleting}\n        >\n          Delete\n        </LoaderButton>\n      </Form>\n    )}\n  </div>\n);\n}","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { CardElement, injectStripe } from \"react-stripe-elements\";\nimport LoaderButton from \"./LoaderButton\";\nimport { useFormFields } from \"../libs/hooksLib\";\nimport \"./BillingForm.css\";\n\nfunction BillingForm({ isLoading, onSubmit, ...props }) {\n  const [fields, handleFieldChange] = useFormFields({\n    name: \"\",\n    storage: \"\",\n  });\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [isCardComplete, setIsCardComplete] = useState(false);\n\n  isLoading = isProcessing || isLoading;\n\n  function validateForm() {\n    return fields.name !== \"\" && fields.storage !== \"\" && isCardComplete;\n  }\n\n  async function handleSubmitClick(event) {\n    event.preventDefault();\n\n    setIsProcessing(true);\n\n    const { token, error } = await props.stripe.createToken({\n      name: fields.name,\n    });\n\n    setIsProcessing(false);\n\n    onSubmit(fields.storage, { token, error });\n  }\n\n  return (\n    <Form className=\"BillingForm\" onSubmit={handleSubmitClick}>\n      <Form.Group size=\"lg\" controlId=\"storage\">\n        <Form.Label>Storage</Form.Label>\n        <Form.Control\n          min=\"0\"\n          type=\"number\"\n          value={fields.storage}\n          onChange={handleFieldChange}\n          placeholder=\"Number of notes to store\"\n        />\n      </Form.Group>\n      <hr />\n      <Form.Group size=\"lg\" controlId=\"name\">\n        <Form.Label>Cardholder&apos;s name</Form.Label>\n        <Form.Control\n          type=\"text\"\n          value={fields.name}\n          onChange={handleFieldChange}\n          placeholder=\"Name on the card\"\n        />\n      </Form.Group>\n      <Form.Label>Credit Card Info</Form.Label>\n      <CardElement\n        className=\"card-field\"\n        onChange={(e) => setIsCardComplete(e.complete)}\n        style={{\n          base: {\n            fontSize: \"16px\",\n            color: \"#495057\",\n            fontFamily: \"'Open Sans', sans-serif\",\n          },\n        }}\n      />\n      <LoaderButton\n        block\n        size=\"lg\"\n        type=\"submit\"\n        isLoading={isLoading}\n        disabled={!validateForm()}\n      >\n        Purchase\n      </LoaderButton>\n    </Form>\n  );\n}\n\nexport default injectStripe(BillingForm);","import React, { useState, useEffect } from \"react\";\nimport { API } from \"aws-amplify\";\nimport { useHistory } from \"react-router-dom\";\nimport { onError } from \"../libs/errorLib\";\nimport config from \"../config\";\nimport { Elements, StripeProvider } from \"react-stripe-elements\";\nimport BillingForm from \"../components/BillingForm\";\nimport \"./Settings.css\";\n\nexport default function Settings() {\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n  const [stripe, setStripe] = useState(null);\n\n  useEffect(() => {\n    setStripe(window.Stripe(config.STRIPE_KEY));\n  }, []);\n\n  function billUser(details) {\n    return API.post(\"notes\", \"/billing\", {\n      body: details\n    });\n  }\n\n  async function handleFormSubmit(storage, { token, error }) {\n  if (error) {\n    onError(error);\n    return;\n  }\n\n  setIsLoading(true);\n\n  try {\n    await billUser({\n      storage,\n      source: token.id\n    });\n\n    alert(\"Your card has been charged successfully!\");\n    history.push(\"/\");\n  } catch (e) {\n    onError(e);\n    setIsLoading(false);\n  }\n}\n\nreturn (\n  <div className=\"Settings\">\n    <StripeProvider stripe={stripe}>\n      <Elements\n        fonts={[\n          {\n            cssSrc:\n              \"https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800\",\n          },\n        ]}\n      >\n        <BillingForm isLoading={isLoading} onSubmit={handleFormSubmit} />\n      </Elements>\n    </StripeProvider>\n  </div>\n);\n}","import React from \"react\";\nimport { Route, Redirect, useLocation } from \"react-router-dom\";\nimport { useAppContext } from \"../libs/contextLib\";\n\nexport default function AuthenticatedRoute({ children, ...rest }) {\n  const { pathname, search } = useLocation();\n  const { isAuthenticated } = useAppContext();\n  return (\n    <Route {...rest}>\n      {isAuthenticated ? (\n        children\n      ) : (\n        <Redirect to={\n          `/login?redirect=${pathname}${search}`\n        } />\n      )}\n    </Route>\n  );\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { useAppContext } from \"../libs/contextLib\";\n\nfunction querystring(name, url = window.location.href) {\n  name = name.replace(/[[]]/g, \"\\\\$&\");\n\n  const regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\", \"i\");\n  const results = regex.exec(url);\n\n  if (!results) {\n    return null;\n  }\n  if (!results[2]) {\n    return \"\";\n  }\n\n  return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\nexport default function UnauthenticatedRoute({ children, ...rest }) {\n  const { isAuthenticated } = useAppContext();\n  const redirect = querystring(\"redirect\");\n  return (\n    <Route {...rest}>\n      {!isAuthenticated ? (\n        children\n      ) : (\n        <Redirect to={redirect === \"\" || redirect === null ? \"/\" : redirect} />\n      )}\n    </Route>\n  );\n}","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Home from \"./containers/Home\";\nimport NotFound from \"./containers/NotFound\";\nimport Login from \"./containers/Login\";\nimport Signup from \"./containers/Signup\";\nimport NewNote from \"./containers/NewNote\";\nimport Notes from \"./containers/Notes\";\nimport Settings from \"./containers/Settings\";\nimport AuthenticatedRoute from \"./components/AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./components/UnauthenticatedRoute\";\n\nexport default function Routes() {\n  return (\n    <Switch>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n      <UnauthenticatedRoute exact path=\"/login\">\n        <Login />\n      </UnauthenticatedRoute>\n      <UnauthenticatedRoute exact path=\"/signup\">\n        <Signup />\n      </UnauthenticatedRoute>\n      <AuthenticatedRoute exact path=\"/settings\">\n        <Settings />\n      </AuthenticatedRoute>\n      <AuthenticatedRoute exact path=\"/notes/new\">\n        <NewNote />\n      </AuthenticatedRoute>\n      <AuthenticatedRoute exact path=\"/notes/:id\">\n        <Notes />\n      </AuthenticatedRoute>\n      <Route>\n        <NotFound />\n      </Route>\n    </Switch>\n  );\n}","import React, { useState, useEffect } from \"react\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport \"./App.css\";\nimport Routes from \"./Routes\";\nimport Nav from \"react-bootstrap/Nav\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { AppContext } from \"./libs/contextLib\";\nimport { Auth } from \"aws-amplify\";\nimport { useHistory } from \"react-router-dom\";\nimport { onError } from \"./libs/errorLib\";\n\nfunction App() {\n  const history = useHistory();\n  const [isAuthenticating, setIsAuthenticating] = useState(true);\n  const [isAuthenticated, userHasAuthenticated] = useState(false);\n\n  useEffect(() => {\n  onLoad();\n}, []);\n\nasync function onLoad() {\n  try {\n    await Auth.currentSession();\n    userHasAuthenticated(true);\n  }\n  catch(e) {\n    if (e !== 'No current user') {\n      onError(e);\n    }\n  }\n\n  setIsAuthenticating(false);\n}\nasync function handleLogout() {\n  await Auth.signOut();\n\n  userHasAuthenticated(false);\n\n  history.push(\"/login\");\n}\n  return (\n  !isAuthenticating && (\n    <div className=\"App container py-3\">\n      <Navbar collapseOnSelect bg=\"light\" expand=\"md\" className=\"mb-3\">\n        <LinkContainer to=\"/\">\n          <Navbar.Brand className=\"font-weight-bold text-muted\">\n            Scratch\n          </Navbar.Brand>\n        </LinkContainer>\n        <Navbar.Toggle />\n        <Navbar.Collapse className=\"justify-content-end\">\n          <Nav activeKey={window.location.pathname}>\n            {isAuthenticated ? (\n              <>\n                <LinkContainer to=\"/settings\">\n                  <Nav.Link>Settings</Nav.Link>\n                </LinkContainer>\n                <Nav.Link onClick={handleLogout}>Logout</Nav.Link>\n              </>\n            ) : (\n              <>\n                <LinkContainer to=\"/signup\">\n                  <Nav.Link>Signup</Nav.Link>\n                </LinkContainer>\n                <LinkContainer to=\"/login\">\n                  <Nav.Link>Login</Nav.Link>\n                </LinkContainer>\n              </>\n            )}\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n      <AppContext.Provider value={{ isAuthenticated, userHasAuthenticated }}>\n        <Routes />\n      </AppContext.Provider>\n    </div>\n    )\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Amplify } from 'aws-amplify';\nimport config from './config';\n\nAmplify.configure({\n  Auth: {\n    mandatorySignIn: true,\n    region: config.cognito.REGION,\n    userPoolId: config.cognito.USER_POOL_ID,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID,\n    userPoolWebClientId: config.cognito.APP_CLIENT_ID\n  },\n  Storage: {\n    region: config.s3.REGION,\n    bucket: config.s3.BUCKET,\n    identityPoolId: config.cognito.IDENTITY_POOL_ID\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"notes\",\n        endpoint: config.apiGateway.URL,\n        region: config.apiGateway.REGION\n      },\n    ]\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}