{"ast":null,"code":"var _jsxFileName = \"/Users/linyue/Documents/amanda/spring2021/cloud_special_topics/notes-app-client/src/containers/Notes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Notes() {\n  _s();\n\n  const file = useRef(null);\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [note, setNote] = useState(null);\n  const [content, setContent] = useState(\"\");\n  useEffect(() => {\n    function loadNote() {\n      return API.get(\"notes\", `/notes/${id}`);\n    }\n\n    async function onLoad() {\n      try {\n        const note = await loadNote();\n        const {\n          content,\n          attachment\n        } = note;\n\n        if (attachment) {\n          note.attachmentURL = await Storage.vault.get(attachment);\n        }\n\n        setContent(content);\n        setNote(note);\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    onLoad();\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Notes\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Notes, \"G6vXi56fPRIuIHDHexa5/HVMWjM=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = Notes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Notes\");","map":{"version":3,"sources":["/Users/linyue/Documents/amanda/spring2021/cloud_special_topics/notes-app-client/src/containers/Notes.js"],"names":["React","useRef","useState","useEffect","useParams","useHistory","API","Storage","onError","Notes","file","id","history","note","setNote","content","setContent","loadNote","get","onLoad","attachment","attachmentURL","vault","e"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,EAAkCC,SAAlC,QAAmD,OAAnD;AACA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,kBAAtC;AACA,SAASC,GAAT,EAAcC,OAAd,QAA6B,aAA7B;AACA,SAASC,OAAT,QAAwB,kBAAxB;;AAEA,eAAe,SAASC,KAAT,GAAiB;AAAA;;AAC9B,QAAMC,IAAI,GAAGT,MAAM,CAAC,IAAD,CAAnB;AACA,QAAM;AAAEU,IAAAA;AAAF,MAASP,SAAS,EAAxB;AACA,QAAMQ,OAAO,GAAGP,UAAU,EAA1B;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACa,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,aAASc,QAAT,GAAoB;AAClB,aAAOX,GAAG,CAACY,GAAJ,CAAQ,OAAR,EAAkB,UAASP,EAAG,EAA9B,CAAP;AACD;;AAED,mBAAeQ,MAAf,GAAwB;AACtB,UAAI;AACF,cAAMN,IAAI,GAAG,MAAMI,QAAQ,EAA3B;AACA,cAAM;AAAEF,UAAAA,OAAF;AAAWK,UAAAA;AAAX,YAA0BP,IAAhC;;AAEA,YAAIO,UAAJ,EAAgB;AACdP,UAAAA,IAAI,CAACQ,aAAL,GAAqB,MAAMd,OAAO,CAACe,KAAR,CAAcJ,GAAd,CAAkBE,UAAlB,CAA3B;AACD;;AAEDJ,QAAAA,UAAU,CAACD,OAAD,CAAV;AACAD,QAAAA,OAAO,CAACD,IAAD,CAAP;AACD,OAVD,CAUE,OAAOU,CAAP,EAAU;AACVf,QAAAA,OAAO,CAACe,CAAD,CAAP;AACD;AACF;;AAEDJ,IAAAA,MAAM;AACP,GAtBQ,EAsBN,CAACR,EAAD,CAtBM,CAAT;AAwBA,sBACE;AAAK,IAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,UADF;AAGD;;GAlCuBF,K;UAEPL,S,EACCC,U;;;KAHMI,K","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { API, Storage } from \"aws-amplify\";\nimport { onError } from \"../libs/errorLib\";\n\nexport default function Notes() {\n  const file = useRef(null);\n  const { id } = useParams();\n  const history = useHistory();\n  const [note, setNote] = useState(null);\n  const [content, setContent] = useState(\"\");\n\n  useEffect(() => {\n    function loadNote() {\n      return API.get(\"notes\", `/notes/${id}`);\n    }\n\n    async function onLoad() {\n      try {\n        const note = await loadNote();\n        const { content, attachment } = note;\n\n        if (attachment) {\n          note.attachmentURL = await Storage.vault.get(attachment);\n        }\n\n        setContent(content);\n        setNote(note);\n      } catch (e) {\n        onError(e);\n      }\n    }\n\n    onLoad();\n  }, [id]);\n\n  return (\n    <div className=\"Notes\"></div>\n  );\n}"]},"metadata":{},"sourceType":"module"}